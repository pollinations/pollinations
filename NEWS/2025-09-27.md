# Weekly Update - 2025-09-27

-   **hotfix(enter): Restore valid .encrypted.dev.env** — Restores a valid `.encrypted.dev.env` file. [PR #4204](https://github.com/pollinations/pollinations/pull/4204)
-   **Add Nanobanana and Seedream image models and services** — Introduces `nanobanana` and `seedream` to `IMAGE_MODELS` and `IMAGE_SERVICES` registries with fixed operational cost and pricing details. [PR #4203](https://github.com/pollinations/pollinations/pull/4203)
-   **Create staging deployment** — Contains a merged staging version of the enter service, plus deployment preparation and bugfixes. [PR #4198](https://github.com/pollinations/pollinations/pull/4198)
-   **Model improvements and tier-based concurrency enhancements + Rate limit monitoring** — Implements comprehensive model improvements, tier-based concurrency enhancements, `ChickyTutor` persona integration, and monitoring infrastructure. [PR #4202](https://github.com/pollinations/pollinations/pull/4202)
-   **Track moderation results for text generations** — Adds moderation results from OpenAI responses to Tinybird events. [PR #4167](https://github.com/pollinations/pollinations/pull/4167)
-   **Update image cost and pricing logic** — Handles image generations as 1 token per generation, adds `DPT` unit for price per image, and adds `cost_type` to tracking events. [PR #4161](https://github.com/pollinations/pollinations/pull/4161)
-   **fix: update provider mapping for image models to match actual infrastructure** — Updates `getProviderNameFromModel()` in `observability/tinybirdTracker.ts` to reflect actual infrastructure providers (e.g., mapping `flux`, `kontext`, and `turbo` to `io.net`). [PR #4185](https://github.com/pollinations/pollinations/pull/4185)
-   **Add tracking headers to image service** — Implements headers `x-model-used`, `x-user-tier`, and `x-completion-image-tokens` for the enter service to support billing and tracking. [PR #4183](https://github.com/pollinations/pollinations/pull/4183)
-   **fix(telemetry): Guard cost resolution to prevent error events from being dropped** — Fixes an issue where `resolveCost()` threw errors when no model name was provided, causing error events to be dropped from Tinybird. [PR #4184](https://github.com/pollinations/pollinations/pull/4184)
-   **Model improvements and tier-based concurrency enhancements** — Migrates Gemini 2.5 Flash Lite to Vertex AI, updates pricing configuration, and enhances tier-based concurrency for high-demand image models. [PR #4195](https://github.com/pollinations/pollinations/pull/4195)
-   **Add DirPixel to project list** — Adds DirPixel, a PyQt6 GUI tool for batch replacing images in directories, to the Creative Projects category. [PR #4194](https://github.com/pollinations/pollinations/pull/4194)
-   **Set permanent redirect for text.pollinations.ai root** — Updates the text service root route to issue a permanent redirect to the GitHub API documentation. [PR #4191](https://github.com/pollinations/pollinations/pull/4191)
-   **Reorder supporters and document new partners** — Moves `io.net` and `BytePlus` to the top of the frontend supporter list and adds them to the README supporters section. [PR #4192](https://github.com/pollinations/pollinations/pull/4192)
-   **Send x-enter-token and x-github-id headers with proxied requests** — Adds `githubId` and `githubUsername` to better-auth user, introduces `POLLINATIONS_GATEWAY_TOKEN` env var, and adds tracking headers to proxied generation requests. [PR #4176](https://github.com/pollinations/pollinations/pull/4176)
-   **Fix queue concurrency bottleneck and improve rate limiting intervals** — Fixes a `p-queue` configuration issue by setting `intervalCap` to match tier-based concurrency, significantly improving performance. [PR #4182](https://github.com/pollinations/pollinations/pull/4182)
-   **Configure GPT-5 Mini/Nano models and update nectar tier concurrency** — Updates `openai` and `openai-fast` models to use GPT-5 Mini/Nano via Azure Myceli, sets pricing, and increases nectar tier concurrency to 100 requests. [PR #4177](https://github.com/pollinations/pollinations/pull/4177)
-   **Improve model tracking and logging** — Enhances observability by distinguishing between requested virtual models and provider-returned models in Tinybird events and logging originally requested models. [PR #4147](https://github.com/pollinations/pollinations/pull/4147)
-   **Increase ad probability to 5% and fix model configurations** — Increases nexad ad probability to 5%, adds `geminisearch` alias, and fixes the Gemini 2.5 Flash model ID. [PR #4164](https://github.com/pollinations/pollinations/pull/4164)
-   **Simplified Nanobanana Dimensions Support** — Enables `nanobanana` to understand aspect ratios by dynamically generating transparent reference images to guide the AI model. [PR #4162](https://github.com/pollinations/pollinations/pull/4162)
-   **Fix p-queue interval issue and set seedream to 45s intervals** — Fixes a `p-queue` issue where intervals were ignored by adding `intervalCap: 1`, and optimizes `seedream` rate limiting. [PR #4158](https://github.com/pollinations/pollinations/pull/4158)
-   **Add reference image support for image models** — Adds a reference image panel to the image editor and appends validated reference image URLs to generation requests for supported models. [PR #4156](https://github.com/pollinations/pollinations/pull/4156)
-   **Implement Seedream queue limits and model improvements** — Implements rate limiting for the `seedream` model (1 concurrent request, 30s interval) matching `nanobanana` configuration. [PR #4144](https://github.com/pollinations/pollinations/pull/4144)
-   **Fix image analytics model tracking with elegant middleware approach** — Implements middleware to correctly parse URL query parameters for analytics, fixing an issue where `flux` was incorrectly reported as the model for all requests. [PR #4143](https://github.com/pollinations/pollinations/pull/4143)
-   **Only allow paid generations with enough balance** — Adds authorization to check user balance before paid model requests, caches Polar balance checks in Cloudflare KV, and improves tracking. [PR #4135](https://github.com/pollinations/pollinations/pull/4135)
-   **feat: Add ByteDance ARK Seedream 4.0 image generation model** — Integrates ByteDance ARK Seedream 4.0 for text-to-image and image-to-image generation with support for up to 4K resolution. [PR #4142](https://github.com/pollinations/pollinations/pull/4142)
-   **Experimental/nanobanana queue limits warning needs evaluation** — Addresses queue limit warnings for the experimental `nanobanana` model. [PR #4141](https://github.com/pollinations/pollinations/pull/4141)
-   **fix(text): use Vertex model-id gemini-2.5-flash-vertex for gemini-search** — Updates the Vertex AI model ID for `gemini-search` to `gemini-2.5-flash-vertex` to ensure correct routing via Portkey. [PR #4132](https://github.com/pollinations/pollinations/pull/4132)
-   **fix(telemetry): correct model_requested vs model_used in Tinybird event** — Updates Tinybird telemetry to correctly distinguish between `model_requested` (user input) and `model_used` (provider return). [PR #4133](https://github.com/pollinations/pollinations/pull/4133)
-   **Pollen MVP v0.2** — Adds logging, cost/price calculation, model/service registry, and tests for the Pollen MVP. [PR #4039](https://github.com/pollinations/pollinations/pull/4039)
-   **Implement comprehensive nano-banana logging and user stats tracking** — Implements persistent user statistics tracking, violation monitoring, and logging for the `nano-banana` (Vertex AI Gemini) model. [PR #4122](https://github.com/pollinations/pollinations/pull/4122)
-   **Add LLMS to chat projects category** — Adds LLMS, a Kotlin Multiplatform AI application, to the Chat Projects category. [PR #4126](https://github.com/pollinations/pollinations/pull/4126)
-   **Add Strapick Chat to project list** — Adds Strapick Chat, a minimalistic chat UI, to the Chat Projects category. [PR #4121](https://github.com/pollinations/pollinations/pull/4121)
-   **Add simple prompt prefix for Nano Banana image generation** — Prepends "Create a detailed image:" to prompts sent to Vertex AI Gemini (`nanobanana`) to improve generation quality. [PR #4120](https://github.com/pollinations/pollinations/pull/4120)
-   **Add DeepSeek V3.1 model via Google Vertex AI** — Adds `deepseek-ai/deepseek-v3.1-maas` configuration using Google Vertex AI's OpenAI-compatible endpoint. [PR #4119](https://github.com/pollinations/pollinations/pull/4119)
-   **Add ChadGpt to project list** — Adds ChadGpt to the project list, addressing issue #4102. [PR #4115](https://github.com/pollinations/pollinations/pull/4115)
-   **Implement full nano banana (Gemini) model support** — Implements complete `nanobanana` support using Gemini 2.5 Flash Image Preview via direct Vertex AI integration, including text-to-image and image-to-image. [PR #4114](https://github.com/pollinations/pollinations/pull/4114)
-   **Fix Google Search tool format for Vertex AI gemini-search model** — Corrects the tool format for Vertex AI Google Search integration to use the proper `function` schema. [PR #4112](https://github.com/pollinations/pollinations/pull/4112)
-   **Google Search Transform + Critical Auth Fixes** — Implements automatic Google Search grounding for `gemini-search` and fixes Google Cloud authentication issues for server deployment. [PR #4111](https://github.com/pollinations/pollinations/pull/4111)
-   **Implement ChickyTutor prompt management system + NexAd disable + model fixes** — Creates a secure prompt management system for `ChickyTutor`, disables NexAd, and fixes model configurations. [PR #4110](https://github.com/pollinations/pollinations/pull/4110)
-   **Implement Automatic Google Search Grounding for gemini-search Model** — Implements automatic Google Search grounding for the `gemini-search` model using a transform function. [PR #4109](https://github.com/pollinations/pollinations/pull/4109)
