{
  "request": {
    "url": "http://ec2-3-80-56-235.compute-1.amazonaws.com:16385/openai",
    "method": "POST",
    "body": {
      "type": "json",
      "data": {
        "model": "openai-fast",
        "messages": [
          {
            "role": "user",
            "content": "Cache-Control test"
          }
        ]
      }
    },
    "params": {}
  },
  "response": {
    "status": 200,
    "statusText": "OK",
    "headers": {
      "access-control-allow-origin": "*",
      "connection": "keep-alive",
      "content-length": "4469",
      "content-type": "application/json; charset=utf-8",
      "date": "Thu, 25 Dec 2025 18:39:10 GMT",
      "etag": "W/\"1175-KIHqyU/jgNuCnJDvFIzZjpSBR98\"",
      "keep-alive": "timeout=5",
      "x-model-used": "gpt-5-nano-2025-08-07",
      "x-powered-by": "Express",
      "x-usage-completion-reasoning-tokens": "1792",
      "x-usage-completion-text-tokens": "829",
      "x-usage-prompt-text-tokens": "250",
      "x-usage-total-tokens": "2871"
    },
    "body": {
      "type": "json",
      "data": {
        "choices": [
          {
            "content_filter_results": {
              "hate": {
                "filtered": false,
                "severity": "safe"
              },
              "protected_material_code": {
                "filtered": false,
                "detected": false
              },
              "protected_material_text": {
                "filtered": false,
                "detected": false
              },
              "self_harm": {
                "filtered": false,
                "severity": "safe"
              },
              "sexual": {
                "filtered": false,
                "severity": "safe"
              },
              "violence": {
                "filtered": false,
                "severity": "safe"
              }
            },
            "finish_reason": "stop",
            "index": 0,
            "logprobs": null,
            "message": {
              "annotations": [],
              "content": "Nice. Here’s a quick Cache-Control test guide you can use to sanity-check how a resource is cached.\n\nWhat to know (quick recap)\n- Cache-Control directives you’ll see:\n  - public vs private\n  - no-store (don’t cache at all)\n  - no-cache (may cache but must revalidate before use)\n  - max-age=<seconds> (time-to-use from cache)\n  - s-maxage=<seconds> (shared caches)\n  - must-revalidate or proxy-revalidate (must recheck after expiry)\n- ETag or Last-Modified help with conditional requests (If-None-Match / If-Modified-Since) to trigger 304 Not Modified.\n- Vary affects when a cached response is usable for different request headers.\n\nMinimal test plan\n1) Check initial headers\n- What to look for: Cache-Control, Expires (if present), ETag or Last-Modified.\n- Command: curl -I https://your/resource\n- Example of what you might see:\n  - Cache-Control: public, max-age=300\n  - ETag: \"abc123\"\n\n2) Validate no-cache / revalidation behavior\n- Conditional request to trigger 304 when unchanged.\n- First fetch to capture an ETag:\n  - curl -s -D - https://your/resource | head\n  - Note the ETag value, e.g. ETag: \"abc123\"\n- Re-request with If-None-Match (simulates a client cache revalidating):\n  - curl -s -D - -H 'If-None-Match: \"abc123\"' https://your/resource\n  - Expect: 304 Not Modified if unchanged; 200 if changed.\n\n3) Force revalidation from client-side\n- If you want the client to re-check regardless of max-age:\n  - curl -I -H \"Cache-Control: max-age=0\" https://your/resource\n  - This tells caches to treat the response as expired and revalidate.\n\n4) Test a resource that should not be cached\n- Look for: Cache-Control: no-store or no-cache\n- Command:\n  - curl -I https://your/resource-no-cache\n- Expect no-store/no-cache in the response headers.\n\n5) Check public vs private and shared caches\n- If a resource has Cache-Control: private, it will not be stored by shared caches (proxies), only by the end user agent.\n- If Cache-Control: public, it can be stored by shared caches as well.\n- Look for those directives in the response.\n\n6) If you’re testing with a browser\n- Open DevTools > Network tab.\n- Reload the page and inspect the resource:\n  - Headers tab shows Cache-Control, Expires, ETag/Last-Modified.\n  - Size/Transferred column can indicate cache hits (served from memory/disk) vs network.\n  - You can also see 304 responses if revalidation occurred.\n\nExample header you might use as a baseline\nHTTP/1.1 200 OK\nDate: Tue, 01 Jan 2025 12:00:00 GMT\nCache-Control: public, max-age=300\nETag: \"abc123\"\nLast-Modified: Tue, 01 Jan 2025 11:50:00 GMT\nContent-Type: text/html; charset=utf-8\n\nInterpreting results\n- 200 OK with Cache-Control including a positive max-age = resource is cacheable for that duration.\n- 304 Not Modified after If-None-Match or If-Modified-Since: client can use cached copy.\n- No-store or no-cache means the resource should not be stored in caches (no persistence on subsequent requests).\n- s-maxage affects shared caches (CDNs, proxies) more than end-user browsers.\n\nIf you want, tell me the URL or the environment you’re testing (server type, framework, or a service like httpbin), and I’ll tailor the exact commands and expected outputs for you.",
              "refusal": null,
              "role": "assistant"
            }
          }
        ],
        "created": 1766687938,
        "id": "pllns_b320cc99043fc4e1ffab3b7473c25b25",
        "model": "gpt-5-nano-2025-08-07",
        "object": "chat.completion",
        "prompt_filter_results": [
          {
            "prompt_index": 0,
            "content_filter_results": {
              "hate": {
                "filtered": false,
                "severity": "safe"
              },
              "jailbreak": {
                "filtered": false,
                "detected": false
              },
              "self_harm": {
                "filtered": false,
                "severity": "safe"
              },
              "sexual": {
                "filtered": false,
                "severity": "safe"
              },
              "violence": {
                "filtered": false,
                "severity": "safe"
              }
            }
          }
        ],
        "system_fingerprint": null,
        "usage": {
          "completion_tokens": 2621,
          "completion_tokens_details": {
            "accepted_prediction_tokens": 0,
            "audio_tokens": 0,
            "reasoning_tokens": 1792,
            "rejected_prediction_tokens": 0
          },
          "prompt_tokens": 250,
          "prompt_tokens_details": {
            "audio_tokens": 0,
            "cached_tokens": 0
          },
          "total_tokens": 2871
        }
      }
    }
  }
}