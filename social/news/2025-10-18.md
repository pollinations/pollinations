# Weekly Update - 2025-10-18

- **Backend for side utilities** — Implemented the backend for `micro.pollinations.ai` (potentially `utils.pollinations.ai`), including a README and a basic frontend for service testing. [PR #4512](https://github.com/pollinations/pollinations/pull/4512)
- **Add Green Hope AI project to creative projects list** — Added "Green Hope AI" to the creative projects list. [PR #4588](https://github.com/pollinations/pollinations/pull/4588)
- **Fix: Disable progress bar logging to prevent disk space exhaustion** — Changed `noTTYOutput` to `false` in `progressBar.ts` to prevent excessive log growth (~197 MB/min) causing `ENOSPC` errors. [PR #4596](https://github.com/pollinations/pollinations/pull/4596)
- **Reduce image cache size from 500k to 5k to prevent memory leak** — Reduced `MAX_CACHE_SIZE` in `cacheGeneratedImages.ts` from 500,000 to 5,000 entries to prevent unbounded cache growth and service degradation. [PR #4591](https://github.com/pollinations/pollinations/pull/4591)
- **Cleanup bug fixing spill: revert emergency measures** — Reverted emergency queue priority limits set in PR #4565; restored 5 queue slots for all users now that the root cause is fixed. [PR #4573](https://github.com/pollinations/pollinations/pull/4573)
- **Make image telemetry non-blocking (fire-and-forget)** — Fixed a critical service crash issue by removing `await` from `sendTinybirdEvent` in `utils/telemetry.ts`, preventing telemetry from blocking requests. [PR #4572](https://github.com/pollinations/pollinations/pull/4572)
- **Fix Cloudflare cache performance - remove expensive provider lookup** — Removed expensive `getProviderByModelId` lookup in `tinybird.ts` to resolve service degradation and high response times. [PR #4566](https://github.com/pollinations/pollinations/pull/4566)
- **Prioritize registered users with better queue limits** — Implemented tier-based queue limits: 1 slot for anonymous users and 5 slots for registered users (seed/flower/nectar). [PR #4565](https://github.com/pollinations/pollinations/pull/4565)
- **Add image safety timeout and implement cache eviction** — Added missing timeout to image safety checks and implemented cache eviction to prevent memory leaks. [PR #4564](https://github.com/pollinations/pollinations/pull/4564)
- **Add 20s timeout to Azure Content Safety check to prevent service hangs** — Implemented a 20-second timeout for Azure Content Safety API calls in `azureFluxKontextModel.ts` to prevent queue blocking. [PR #4563](https://github.com/pollinations/pollinations/pull/4563)
- **Add cost calculation to image Tinybird telemetry** — Added cost tracking fields (`token_price_completion_image`, `cost`) to image generation telemetry, reading pricing from the registry. [PR #4554](https://github.com/pollinations/pollinations/pull/4554)
- **Migrate image provider lookups to shared registry** — Migrated image service to use the shared registry for provider lookups and removed the hardcoded `modelProvider.ts`. [PR #4553](https://github.com/pollinations/pollinations/pull/4553)
- **Fix cost calculation: remove double division by 1M** — Corrected `calculateTotalCost()` in `costCalculator.ts` to remove unnecessary division by `TOKENS_PER_MILLION`, fixing understated costs. [PR #4549](https://github.com/pollinations/pollinations/pull/4549)
- **Fix cost tracking: align Azure deployment names with TEXT_COSTS registry keys** — Resolved model name mismatches between Azure API responses and `TEXT_COSTS` registry keys to restore accurate cost tracking. [PR #4546](https://github.com/pollinations/pollinations/pull/4546)
- **Disable model** — Disabled `mistral-naughty` and associated aliases (`mistral-romance`, `mistral-roblox`) in `availableModels.ts` and registry. [PR #4541](https://github.com/pollinations/pollinations/pull/4541)
- **Clean up text registry and sync pricing with Azure API** — Removed unused services (`nova-fast`, `claudyclaude`), synchronized `TEXT_SERVICES` with `availableModels`, and verified Azure OpenAI pricing. [PR #4537](https://github.com/pollinations/pollinations/pull/4537)
- **Fix enter.pollinations.ai proxy endpoint and deployment configuration** — Added missing `--env` flags to deployment commands in `package.json` to fix `enter.pollinations.ai` model endpoint issues. [PR #4536](https://github.com/pollinations/pollinations/pull/4536)
